<nz-card style="width: 100%;">
  <nz-page-header [nzGhost]="false" *ngIf="groups.length > 0">
    <nz-page-header-title>å°ç»„å‘¨æŠ¥</nz-page-header-title>
    <nz-page-header-subtitle></nz-page-header-subtitle>
    <nz-page-header-extra>
      <nz-radio-group [(ngModel)]="groupId" *ngFor="let grp of groups" (ngModelChange)="changDate(0)">
        <label nz-radio [nzValue]=grp.id>{{grp.name}}</label>
      </nz-radio-group>
      <button nz-button nzType="primary" (click)="changDate(-7)"><i nz-icon nzType="left"></i>å‰ä¸€å‘¨</button>
      <button nz-button nzType="primary" (click)="changDate(7)">åä¸€å‘¨<i nz-icon nzType="right"></i></button>
    </nz-page-header-extra>
  </nz-page-header>
  <nz-alert
    *ngIf="groups.length === 0"
    nzType="info"
    nzMessage="ğŸ‘€å¦‚æœæ‰èƒ½çœ‹ç»„å‘¨æŠ¥ï¼Ÿ"
    nzDescription="å½“æ‚¨åŠ å…¥å°ç»„çš„æ—¶å€™ï¼Œä¼šåœ¨è¿™é‡ŒæŒ‰å‘¨çš„å·¥ä½œæˆ–è€…å­¦ä¹ è¿›å±•ï¼Œæ•°æ®æ¥æºäºå„ä¸ªç»„æˆå‘˜çš„ä»»åŠ¡è¿›å±•ï¼Œç»„å‘¨æŠ¥å¯¹æ‰€æœ‰ç»„æˆå‘˜éƒ½æ˜¯å…¬å¼€çš„ï¼Œå½“ä½ åŠ å…¥å¤šä¸ªç»„ï¼Œä½ çš„å‘¨æŠ¥ä¼šå¯¹å„ä¸ªç»„å…¬å¼€ã€‚"
    nzShowIcon
  >
  </nz-alert>
  <nz-collapse [nzBordered]="false" *ngFor="let reports of reportGroup">
    <nz-page-header [nzGhost]="false">
    <nz-page-header-title>{{reports.user.nickname}}</nz-page-header-title>
    <nz-page-header-subtitle>{{reports.from}} - {{reports.to}}</nz-page-header-subtitle>
    </nz-page-header>
    <nz-collapse-panel *ngFor="let report of reports.reports" [nzHeader]="nzTitle" [nzExtra]="extra" [nzActive]="true">
      <ng-template #nzTitle>
        <a routerLink="/task/{{report.task.id}}">{{report.task.title}}</a>
      </ng-template>
      <ng-template #extra>
        <nz-tag [nzColor]="'#3D59AB'" *ngIf="report.task.importance == 1">ä¸é‡è¦</nz-tag>
        <nz-tag [nzColor]="'#33A1C9'" *ngIf="report.task.importance == 2">ä¸€èˆ¬é‡è¦</nz-tag>
        <nz-tag [nzColor]="'#03A89E'" *ngIf="report.task.importance == 3">é‡è¦</nz-tag>
        <nz-tag [nzColor]="'#00C78C'" *ngIf="report.task.importance == 4">å¾ˆé‡è¦</nz-tag>
        <nz-tag [nzColor]="'#1E90FF'" *ngIf="report.task.importance == 5">æå…¶é‡è¦</nz-tag>

        <nz-tag [nzColor]="'#DDA0DD'" *ngIf="report.task.priority == 1">ä¸ç´§æ€¥</nz-tag>
        <nz-tag [nzColor]="'#DA70D6'" *ngIf="report.task.priority == 2">ä¸€èˆ¬ç´§æ€¥</nz-tag>
        <nz-tag [nzColor]="'#A066D3'" *ngIf="report.task.priority == 3">ç´§æ€¥</nz-tag>
        <nz-tag [nzColor]="'#8A2BE2'" *ngIf="report.task.priority == 4">å¾ˆç´§æ€¥</nz-tag>
        <nz-tag [nzColor]="'#9933FA'" *ngIf="report.task.priority == 5">æå…¶ç´§æ€¥</nz-tag>

        <nz-tag [nzColor]="'#FFB6C1'" *ngIf="report.task.state == 0">æ²¡æœ‰è¿›å±•</nz-tag>
        <nz-tag [nzColor]="'#FFD700'" *ngIf="report.task.state == 1">å³å°†å¼€å§‹</nz-tag>
        <nz-tag [nzColor]="'#32CD32'" *ngIf="report.task.state == 2">è¿›è¡Œä¸­</nz-tag>
        <nz-tag [nzColor]="'#228B22'" *ngIf="report.task.state == 3">å®Œæˆ</nz-tag>
        <nz-tag [nzColor]="'#E3170D'" *ngIf="report.task.state == 4">å–æ¶ˆ</nz-tag>
        <nz-tag [nzColor]="'#FFD71f'" *ngIf="report.task.state == 5">æš‚åœ</nz-tag>
        <nz-tag>{{report.task.create_time}}</nz-tag>
      </ng-template>
      <tr *ngFor="let sche of report.schedules">
        <td>{{sche.create_time | relativeTime}}</td>
        <td><quill-view [content]="sche.info" format="text" theme="snow"></quill-view></td>
      </tr>
    </nz-collapse-panel>
  </nz-collapse>
</nz-card>
