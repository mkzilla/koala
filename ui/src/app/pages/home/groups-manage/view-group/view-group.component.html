<div class="inner-content">
  <nz-card nzTitle="{{group.name}}">
    {{group.desc}}
  </nz-card>
  <nz-divider></nz-divider>
  <nz-page-header>
    <nz-page-header-title>
      {{'group\'s objective and key results' | translate}}
    </nz-page-header-title>
    <nz-page-header-subtitle>
      {{'Sort by deadline' | translate}}
    </nz-page-header-subtitle>
    <nz-page-header-extra>
      <button nz-button nzType="primary" (click)="createObjective()">{{'New Objective and key results' | translate}}</button>
      <button nz-button nzType="primary" (click)="changePage(-1)"><i nz-icon nzType="left"></i>{{'Previous' | translate}}</button>
      <button nz-button nzType="primary" (click)="changePage(1)">{{'Next' | translate}}<i nz-icon nzType="right"></i></button>
    </nz-page-header-extra>
  </nz-page-header>
  <div nz-row [nzGutter]="8">
    <div nz-col [nzSpan]="20" style="margin-top:10px;" *ngFor="let okr of okrs">
      <nz-card [nzTitle]="okr.title" [nzExtra]="editTemplate">
        <div>
          <strong style="margin-right:30px;">{{'Degree of completion' | translate}}</strong>
          <nz-rate [ngModel]="okr.score" nzDisabled></nz-rate>
        </div>
        <br><quill-view [content]="okr.desc" format="text" theme="snow"></quill-view><br>
        <strong style="margin-right:30px;">{{'Key results' | translate}}</strong>
        <quill-view [content]="okr.keyResults" format="text" theme="snow"></quill-view>
        <div>
          <nz-tag [nzColor]="'#87d068'">{{okr.start}}</nz-tag>
          <nz-tag [nzColor]="'#f50'">{{okr.end}}</nz-tag>
        </div>
      </nz-card>
      <ng-template #editTemplate>
        <a (click)="editObjective(okr);">{{'Edit' | translate}}</a>
      </ng-template>
    </div>
  </div>
</div>
<app-create-edit-okr (refresh)="search()"></app-create-edit-okr>
